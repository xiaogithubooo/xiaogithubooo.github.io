<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="1.string简介string不是STL的一部分（STL的诞生较晚），但是和STL一起学习会更加容易融会贯通。 而实际上string是一个类模板basic_string的一个实例化，使用字符的顺序容器实现（也就是字符的顺序表），string整个系列支持char的动态增长（字符编码有几篇文章值得看一下，是耗子哥推荐的）。  String are objects represent sequence">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2023/12/01/010+limou+2023_8_5+C++%E7%9A%84string%E7%B1%BB/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1.string简介string不是STL的一部分（STL的诞生较晚），但是和STL一起学习会更加容易融会贯通。 而实际上string是一个类模板basic_string的一个实例化，使用字符的顺序容器实现（也就是字符的顺序表），string整个系列支持char的动态增长（字符编码有几篇文章值得看一下，是耗子哥推荐的）。  String are objects represent sequence">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-12-01T08:34:49.467Z">
<meta property="article:modified_time" content="2023-08-11T09:43:13.192Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2023/12/01/010+limou+2023_8_5+C++的string类/"/>





  <title> | Hexo</title>
  








<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/01/010+limou+2023_8_5+C++%E7%9A%84string%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline"></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-12-01T16:34:49+08:00">
                2023-12-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-string简介"><a href="#1-string简介" class="headerlink" title="1.string简介"></a>1.string简介</h1><p><code>string</code>不是<code>STL</code>的一部分（<code>STL</code>的诞生较晚），但是和<code>STL</code>一起学习会更加容易融会贯通。</p>
<p>而实际上<code>string</code>是一个类模板<code>basic_string</code>的一个实例化，使用字符的顺序容器实现（也就是字符的顺序表），<code>string</code>整个系列支持<code>char</code>的动态增长（字符编码有几篇文章值得看一下，是耗子哥推荐的）。</p>
<blockquote>
<p>String are objects represent sequences of characters.（字符串是表示字符序列的对象。）</p>
</blockquote>
<p><code>string</code>实际上是由<code>basic_traits</code>类实例化而来</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> basic_string&lt;<span class="type">char</span>&gt; string;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>basic_string</code>的实例化除了<code>string（单字节）</code>，还有<code>wstring(宽字符、双字节)</code>、<code>u16string(16位字符，双字节)</code>、<code>u32string(32位字符，四字节)</code>，它们各自维护的类型是<code>char</code>、<code>wchar_t</code>、<code>char16_t</code>、<code>char32_t</code>，这些是属于编码的问题，不过最常用的还是<code>string</code>类。</p>
</blockquote>
<p>在<code>string</code>类中至少有三个成员变量：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">string</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* _str;<span class="comment">//指向由new开辟出来的动态空间，该空间存储字符串</span></span><br><span class="line">    <span class="type">size_t</span> _size;<span class="comment">//string对象对应字符串的大小</span></span><br><span class="line">    <span class="type">size_t</span> _capacity;<span class="comment">//string对象的容量，在存储的时候会多存储一个空字符，方便转化为C风格的字符串，在不同的环境扩容机制有些许不同，有的直接2倍，有的1.5倍</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="2-类构造函数"><a href="#2-类构造函数" class="headerlink" title="2.类构造函数"></a>2.类构造函数</h1><h2 id="2-1-string"><a href="#2-1-string" class="headerlink" title="2.1.string()"></a>2.1.string()</h2><p>调用构造函数后，会构造一个长度为<code>0</code>的空字符串（但是有一定的容量）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string str;</span><br><span class="line">    <span class="comment">//使用范围for循环遍历字符串中的每个字符</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;大小 = &quot;</span> &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;容量 = &quot;</span> &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">//size()是string类内部的成员函数，</span></span><br><span class="line">    <span class="comment">//可以求得string对象内部存储的字符串大小，</span></span><br><span class="line">    <span class="comment">//而capacity()则是求得容量大小</span></span><br><span class="line">    <span class="comment">//后续还会继续讲解</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-2-string-const-string-str"><a href="#2-2-string-const-string-str" class="headerlink" title="2.2.string (const string&amp; str)"></a>2.2.string (const string&amp; str)</h2><p>构造一个<code>str</code>的副本，也就是复制<code>str</code>构造一个新的<code>string</code>对象。</p>
<h2 id="2-3-string-const-string-str-size-t-pos-size-t-len-npos"><a href="#2-3-string-const-string-str-size-t-pos-size-t-len-npos" class="headerlink" title="2.3.string (const string&amp; str, size_t pos, size_t len &#x3D; npos)"></a>2.3.string (const string&amp; str, size_t pos, size_t len &#x3D; npos)</h2><p>复制<code>string</code>对象的部分的字符（从<code>pos</code>开始到<code>len</code>的部分）来构造一个新的<code>string</code>对象。</p>
<p>或者复制到<code>str</code>结束部分（即：<code>str</code>太短了或者<code>len</code>值为<code>string::pos</code>）。</p>
<blockquote>
<p>补充：什么是<code>string::pos</code>呢？<code>string::pos</code>实际上是<code>string</code>内部的常量成员，下面是其定义：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">size_t</span> npos = <span class="number">-1</span>;</span><br></pre></td></tr></table></figure>

<p>我们知道<code>size_t</code>是无符号整数类型的别名，因此<code>npos</code>取得了有符号的一个最大值，这基本不可能是<code>str</code>的长度，也可能是字符串的索引值。</p>
</blockquote>
<p><code>len</code>默认值为<code>npos</code>的目的是：如果没有给予<code>len</code>的值，将会一直读取到字符串的末尾，这一点细节我们实现一个简易的<code>string</code>类再来细细探究。</p>
<h2 id="2-4-string-const-char-s"><a href="#2-4-string-const-char-s" class="headerlink" title="2.4.string (const char* s)"></a>2.4.string (const char* s)</h2><p>复制<code>s</code>指针指向的字符序列（以空字符<code>\0</code>结尾的<code>C</code>语言风格的字符序列）构造出一个<code>string</code>对象。</p>
<h2 id="2-5-string-const-char-s-size-t-n"><a href="#2-5-string-const-char-s-size-t-n" class="headerlink" title="2.5.string (const char* s, size_t n)"></a>2.5.string (const char* s, size_t n)</h2><p>从<code>s</code>指向的字符数组中复制前<code>n</code>个字符。</p>
<h2 id="2-6-string-size-t-n-char-c"><a href="#2-6-string-size-t-n-char-c" class="headerlink" title="2.6.string (size_t n, char c)"></a>2.6.string (size_t n, char c)</h2><p>用<code>n</code>个相同得<code>c</code>字符连续填充字符串。</p>
<h2 id="2-7-template-string-InputIterator-first-InputIterator-last"><a href="#2-7-template-string-InputIterator-first-InputIterator-last" class="headerlink" title="2.7.template &lt;class InputIterator&gt; string (InputIterator first, InputIterator last)"></a>2.7.template &lt;class InputIterator&gt; string (InputIterator first, InputIterator last)</h2><p>以和原<code>string</code>对象相同的顺序，来复制原<code>string</code>对象中范围为<code>[first,last)</code>（迭代器）的字符序列，构造新的<code>string</code>对象。由于我们还没有学过迭代器，因此我们直接上代码观看迭代器的时候会更加好一下。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//直接初始化一个字符串</span></span><br><span class="line">    <span class="function">std::string <span class="title">str1</span><span class="params">(<span class="string">&quot;Hello World&quot;</span>)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;str1(\&quot;Hello World\&quot;) = &quot;</span></span><br><span class="line">        &lt;&lt; str1 &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">//使用迭代器范围构造一个新的字符串</span></span><br><span class="line">    <span class="function">std::string <span class="title">str2</span><span class="params">(str1.begin(), str1.begin() + <span class="number">7</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//输出：Hello</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;str2(str1.begin(), str1.begin() + 7) = &quot;</span> </span><br><span class="line">        &lt;&lt; str2 &lt;&lt; std::endl;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里<code>begin()</code>就是迭代器的使用，您可以简单理解为有一个指针，指向了这个<code>string</code>对象的字符串开头位置，迭代器的出现就是为了能是使得一些对象可以类似指针一样使用。</p>
<h2 id="2-8-string-initializer-list-il"><a href="#2-8-string-initializer-list-il" class="headerlink" title="2.8.string (initializer_list&lt;char&gt; il)"></a>2.8.string (initializer_list&lt;char&gt; il)</h2><p>以列表<code>il</code>中的每个字符来构造<code>string</code>对象，这和使用<code>string(const string&amp; str)</code>构造有些许不同。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//使用列表方式初始化字符串</span></span><br><span class="line">    std::string str&#123; <span class="string">&quot;Hello&quot;</span> &#125;;</span><br><span class="line">    <span class="comment">//输出：Hello</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;str: &quot;</span> &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>补充：std::initializer_list 是一个模板类，它允许创建一个包含任意数量元素的列表。它类似于数组，可以通过下标访问其中的元素，但与数组不同的是，std::initializer_list 是不可变的，不能进行元素的添加或删除操作。（但是这不是初始化列表的意思！）</p>
</blockquote>
<h2 id="2-9-string-string-str-noexcept"><a href="#2-9-string-string-str-noexcept" class="headerlink" title="2.9.string (string&amp;&amp; str) noexcept"></a>2.9.string (string&amp;&amp; str) noexcept</h2><p>这个函数被称为“移动构造”，可以将源<code>string</code>对象转移到目标<code>string</code>对象中。</p>
<p>移动构造函数通常是浅拷贝，它将源对象的资源所有权转移给目标对象，而不是创建新的资源副本。这种机制能够提高性能，并确保在源对象析构时不会重复释放资源。</p>
<p>下面代码如果没能看懂可以以后再来查看：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//使用构造函数构造源string对象</span></span><br><span class="line">    std::string source = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用移动构造函数转移资源</span></span><br><span class="line">    <span class="function">std::string <span class="title">target</span><span class="params">(std::move(source))</span></span>;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;target = &quot;</span> &lt;&lt; target &lt;&lt; std::endl;<span class="comment">//输出：target = Hello World</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;source = &quot;</span> &lt;&lt; source &lt;&lt; std::endl;<span class="comment">//输出：source = （source的内容已被移动）</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：源对象的状态会变为有效但未指定的状态，并且应该避免继续使用移动后的对象或访问其值，上述代码在大部分编译器（比如VS2022）中有可能在打印<code>source</code>的时候提示出类似下面的警告：<code>使用已移动的 from 对象: source (lifetime.1)</code>。</p>
</blockquote>
<h2 id="2-10-英文备注"><a href="#2-10-英文备注" class="headerlink" title="2.10.英文备注"></a>2.10.英文备注</h2><blockquote>
<p>以下是参考<a target="_blank" rel="noopener" href="https://c.binjie.fun/#/chat/1690448482357"><code>CPlusPlus</code>网站</a>的英文解释</p>
<p>(1) empty string constructor (default constructor)</p>
<p>Constructs an <a target="_blank" rel="noopener" href="https://legacy.cplusplus.com/string::empty">empty</a> string, with a <a target="_blank" rel="noopener" href="https://legacy.cplusplus.com/string::length">length</a> of zero characters.</p>
<p>(2) copy constructor</p>
<p>Constructs a copy of <em>str</em>.</p>
<p>(3) substring constructor</p>
<p>Copies the portion of <em>str</em> that begins at the character position <em>pos</em> and spans <em>len</em> characters (or until the end of <em>str</em>, if either <em>str</em> is too short or if <em>len</em> is <a target="_blank" rel="noopener" href="https://legacy.cplusplus.com/string::npos">string::npos</a>).</p>
<p>(4) from c-string</p>
<p>Copies the null-terminated character sequence (C-string) pointed by <em>s</em>.</p>
<p>(5) from buffer</p>
<p>Copies the first <em>n</em> characters from the array of characters pointed by <em>s</em>.</p>
<p>(6) fill constructor</p>
<p>Fills the string with <em>n</em> consecutive copies of character <em>c</em>.</p>
<p>(7) range constructor</p>
<p>Copies the sequence of characters in the range [first,last), in the same order.</p>
<p>(8) initializer list</p>
<p>Copies each of the characters in <em>il</em>, in the same order.</p>
<p>(9) move constructor</p>
<p>Acquires the contents of <em>str</em>.  </p>
<p><em>str</em> is left in an unspecified but valid state.</p>
</blockquote>
<h1 id="3-类析构函数"><a href="#3-类析构函数" class="headerlink" title="3.类析构函数"></a>3.类析构函数</h1><p><code>~string()</code>会释放所有存储容量（该存储容量由字符串所使用的分配器分配）。</p>
<p>也就是说<code>string</code>类的析构函数<code>~string()</code>主要是释放掉<code>string</code>类产生的<code>string</code>对象的资源，因为<code>string</code>的本质是一个顺序表。</p>
<h1 id="4-赋值符号重载函数"><a href="#4-赋值符号重载函数" class="headerlink" title="4.赋值符号重载函数"></a>4.赋值符号重载函数</h1><table>
<thead>
<tr>
<th>类别</th>
<th>函数声明</th>
</tr>
</thead>
<tbody><tr>
<td>string (1)</td>
<td><code>string&amp; operator= (const string&amp; str);</code></td>
</tr>
<tr>
<td>c-string (2)</td>
<td><code>string&amp; operator= (const char* s);</code></td>
</tr>
<tr>
<td>character (3)</td>
<td><code>string&amp; operator= (char c);</code></td>
</tr>
<tr>
<td>initializer list (4)</td>
<td><code>string&amp; operator= (initializer_list&lt;char&gt; il);</code></td>
</tr>
<tr>
<td>move (5)</td>
<td><code>string&amp; operator= (string&amp;&amp; str) noexcept;</code></td>
</tr>
</tbody></table>
<p>上述的作用基本都是将一个新值赋给已定义后的<code>string</code>对象，来替换其当前<code>string</code>对象的内容。下面是测试例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建多个string对象</span></span><br><span class="line">    std::string str1, str2, str3, str4;</span><br><span class="line">    str1 = <span class="string">&quot;hello&quot;</span>;                        <span class="comment">//赋值C风格的字符串(2)</span></span><br><span class="line">    std::cout &lt;&lt; str1 &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    str2 = <span class="string">&#x27;x&#x27;</span>;                            <span class="comment">//赋值单字符(3)</span></span><br><span class="line">    std::cout &lt;&lt; str2 &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    str3 = str1 + str2;                    <span class="comment">//赋值string对象(1)</span></span><br><span class="line">    std::cout &lt;&lt; str3 &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    str3 = &#123; <span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;L&#x27;</span>, <span class="string">&#x27;L&#x27;</span>, <span class="string">&#x27;O&#x27;</span> &#125;;    <span class="comment">//初始化列表(4)</span></span><br><span class="line">    std::cout &lt;&lt; str3 &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    str4 = std::<span class="built_in">move</span>(str3);                <span class="comment">//移动构造(5)</span></span><br><span class="line">    std::cout &lt;&lt; str3 &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; str4 &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中初始化列表函数和普通的赋值只是内部实现细节有点区别，其他地方都很类似。</p>
<p>最后一个函数您若是没有看懂，暂且先用着，我们以后再来解释……</p>
<h1 id="5-迭代器（Iterators）"><a href="#5-迭代器（Iterators）" class="headerlink" title="5.迭代器（Iterators）"></a>5.迭代器（Iterators）</h1><p>如果需要遍历一个<code>string</code>对象需要怎么做呢？目前我们有多种方法可以遍历。</p>
<table>
<thead>
<tr>
<th>类别</th>
<th>可读可修改</th>
<th>可读不可修改</th>
</tr>
</thead>
<tbody><tr>
<td>正向迭代器</td>
<td><code>iterator begin() noexcept;</code><br><code>iterator end() noexcept;</code></td>
<td><code>const_iterator begin() const noexcept;</code><br><code>const_iterator end() const noexcept;</code></td>
</tr>
<tr>
<td>反向迭代器</td>
<td><code>reverse_iterator rbegin() noexcept; </code><br><code>reverse_iterator rend() noexcept;</code></td>
<td><code>const_reverse_iterator rbegin() const noexcept;</code><br><code>const_reverse_iterator rend() const noexcept;</code></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>类别</th>
<th>函数声明</th>
</tr>
</thead>
<tbody><tr>
<td>普通对象的常量迭代器</td>
<td><code>const_iterator cbegin() const noexcept;</code><br><code>const_iterator cend() const noexcept;</code></td>
</tr>
<tr>
<td>常量对象的常量迭代器</td>
<td><code>const_reverse_iterator crbegin() const noexcept;</code><br><code>const_reverse_iterator crend() const noexcept;</code></td>
</tr>
</tbody></table>
<p>其中<code>iterator</code>是一个类模板：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;<span class="comment">//这里假设T实例化为string </span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">iterator</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="comment">//1.正向迭代器</span></span><br><span class="line">    <span class="comment">//迭代器的成员函数和操作符重载定义</span></span><br><span class="line">    <span class="function">iterator <span class="title">begin</span><span class="params">()</span> <span class="keyword">noexcept</span></span>;<span class="comment">//可以找到string对象的头</span></span><br><span class="line">    <span class="function">const_iterator <span class="title">begin</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;<span class="comment">//可以找到const string对象的头</span></span><br><span class="line">    <span class="function">iterator <span class="title">end</span><span class="params">()</span> <span class="keyword">noexcept</span></span>;<span class="comment">//可以找到string对象的尾</span></span><br><span class="line">    <span class="function">const_iterator <span class="title">end</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;<span class="comment">//可以找到const string对象的尾</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.反向迭代器</span></span><br><span class="line">    <span class="function">reverse_iterator <span class="title">rbegin</span><span class="params">()</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line">    <span class="function">const_reverse_iterator <span class="title">rbegin</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line">    <span class="function">reverse_iterator <span class="title">rend</span><span class="params">()</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line">    <span class="function">const_reverse_iterator <span class="title">rend</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="5-1-正向迭代器：begin-和end"><a href="#5-1-正向迭代器：begin-和end" class="headerlink" title="5.1.正向迭代器：begin()和end()"></a>5.1.正向迭代器：begin()和end()</h2><h3 id="5-1-1-for遍历"><a href="#5-1-1-for遍历" class="headerlink" title="5.1.1.for遍历"></a>5.1.1.for遍历</h3><p>这里会使用<code>string</code>类的成员函数<code>size()</code>，这个函数专门计算<code>string</code>对象的大小，这在后面讲解<code>string</code>类的成员函数时，还会进行讲解。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">str</span><span class="params">(<span class="string">&quot;abcd&quot;</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; str.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; str[i] &lt;&lt; <span class="string">&quot; &quot;</span>;<span class="comment">//[]运算符重载</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还需要注意的是，<code>[]</code>运算符重载使得<code>string</code>对象能够像数组一样遍历，我们之后还会再提一次。</p>
<h3 id="5-1-2-迭代器"><a href="#5-1-2-迭代器" class="headerlink" title="5.1.2.迭代器"></a>5.1.2.迭代器</h3><p>迭代器的行为十分类似指针（但是不是指针）使得<code>string</code>对象可以像数组一样被使用：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">str</span><span class="params">(<span class="string">&quot;abcd&quot;</span>)</span></span>;</span><br><span class="line">    std::string::iterator it = str.<span class="built_in">begin</span>();<span class="comment">//这里如果类型名字太长，可以使用auto来自动推导</span></span><br><span class="line">    <span class="keyword">while</span> (it != str.<span class="built_in">end</span>())<span class="comment">//这里不推荐使用&#x27;&lt;&#x27;符号</span></span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        (*it)++;</span><br><span class="line">        it++;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>while (it != str.end())</code>这里不推荐使用<code>&lt;</code>符号，尽管在<code>string</code>对象里使用或许不会出错，但是在其他类里可能就不满足了。（之前说过迭代器的行为类似指针，因此<code>string</code>的底层很有可能就是指针，因此使用<code>&lt;</code>不会出太多错）</p>
<p>但是迭代器不仅仅是<code>string</code>类使用，基本所有库里的类都可以使用迭代器遍历，迭代器有几种便利之处：</p>
<ol>
<li><p>通用，在一些不支持<code>[]</code>重载的结构也可使用迭代器</p>
</li>
<li><p>是无需考虑差<code>1</code>问题</p>
</li>
<li><p>屏蔽底层实现细节，可以直接使用</p>
</li>
</ol>
<p>而其他类底层的迭代器是靠纯指针实现的，例如：链表，因此使用<code>&lt;</code>会有风险。</p>
<p>实际上迭代器就是<code>C++</code>封装的一种体现。</p>
<h3 id="5-1-3-范围for"><a href="#5-1-3-范围for" class="headerlink" title="5.1.3.范围for"></a>5.1.3.范围for</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string str = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="comment">//使用范围for循环遍历字符串中的每个字符</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> ch : str) </span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; ch &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际上范围<code>for</code>的底层代码就是迭代器，只不过范围<code>for</code>封装得更加厉害罢了（在一些编译器内部调试的时候可以切到范围<code>for</code>的汇编语句来检验两者关系）。</p>
<h2 id="5-2-反向迭代器：rbegin-和rend"><a href="#5-2-反向迭代器：rbegin-和rend" class="headerlink" title="5.2.反向迭代器：rbegin()和rend()"></a>5.2.反向迭代器：rbegin()和rend()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">str</span><span class="params">(<span class="string">&quot;abcd&quot;</span>)</span></span>;</span><br><span class="line">    std::string::reverse_iterator rit = str.<span class="built_in">rbegin</span>();</span><br><span class="line">    <span class="keyword">while</span> (rit != str.<span class="built_in">rend</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; *rit &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        (*rit)++;</span><br><span class="line">        rit++;<span class="comment">//注意依旧是++，而不是--</span></span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-3-常量迭代器"><a href="#5-3-常量迭代器" class="headerlink" title="5.3.常量迭代器"></a>5.3.常量迭代器</h2><p>常量迭代器也没有什么声明的，只是将上述两种迭代器从“可读可写”设置为“只可读不可写”，这点我们就不再深入讲解了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//const string str1 = &quot;abcdef&quot;;</span></span><br><span class="line">    <span class="comment">//auto it = str1.begin();</span></span><br><span class="line">    <span class="comment">//while (it != str1.end())</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//    cout &lt;&lt; (*it)++ &lt;&lt; &quot; &quot;;</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//    it++;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//cout &lt;&lt; endl;</span></span><br><span class="line">    string str2 = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">    <span class="keyword">auto</span> cit = str2.<span class="built_in">cbegin</span>();</span><br><span class="line">    <span class="keyword">while</span> (cit != str2.<span class="built_in">cend</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *cit &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        cit++;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="6-容积（Capacity）"><a href="#6-容积（Capacity）" class="headerlink" title="6.容积（Capacity）"></a>6.容积（Capacity）</h1><table>
<thead>
<tr>
<th align="left">类别</th>
<th>函数声明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">获取长度和容量</td>
<td><code>size_t size() const noexcept;</code><br><code>size_t length() const noexcept;</code><br><code>size_t capacity() const noexcept;</code></td>
</tr>
<tr>
<td align="left">改变长度和容量</td>
<td><code>void resize (size_t n);</code><br><code>void resize (size_t n, char c);</code><br><code>void reserve (size_t n = 0);</code></td>
</tr>
<tr>
<td align="left">获取环境最大容量数值</td>
<td><code>size_t max_size() const noexcept;</code></td>
</tr>
<tr>
<td align="left">清理对象内容</td>
<td><code>void clear() noexcept;</code></td>
</tr>
<tr>
<td align="left">判空</td>
<td><code>bool empty() const noexcept;</code></td>
</tr>
</tbody></table>
<h2 id="6-1-size-和length-和capacity"><a href="#6-1-size-和length-和capacity" class="headerlink" title="6.1.size()和length()和capacity()"></a>6.1.size()和length()和capacity()</h2><p>首先我们有一个问题，为什么会有两个计算长度的成员函数呢？这是因为<code>string</code>类得诞生比<code>STL</code>早，最开始设计的是<code>length()</code>，后来出现了<code>STL</code>才开始使用了（并且建议使用）<code>size()</code>。两个都可以计算<code>string</code>对象内部字符串长度，在功能上是等效的。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdefghijklmn&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">length</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>补充：如果查看其他的结构会发现都是使用<code>size()</code>，而没有<code>length()</code></p>
</blockquote>
<p>而另外一个函数<code>capacity()</code>则可以求得当前<code>string</code>对象的容量。</p>
<h2 id="6-2-clear"><a href="#6-2-clear" class="headerlink" title="6.2.clear()"></a>6.2.clear()</h2><p>这个成员函数会对string对象的字符串作清理，但是不会释放空间，同时原<code>string</code>的容量不变，对象的<code>siez()</code>值置为空。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdefghijklmn&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    str.<span class="built_in">clear</span>();</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">length</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-3-max-size"><a href="#6-3-max-size" class="headerlink" title="6.3.max_size()"></a>6.3.max_size()</h2><p>这个成员函数用于告知用户该环境下的<code>string</code>对象最多可以申请到多少字节的空间。</p>
<p>但是这个值是写死的，只是在不同环境下会不同罢了，因此基本没怎么用到这个。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str1</span><span class="params">(<span class="string">&quot;abcdefghijklmn&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">max_size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;abcdefghijklmn&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str2.<span class="built_in">max_size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-4-resize"><a href="#6-4-resize" class="headerlink" title="6.4.resize()"></a>6.4.resize()</h2><p><code>resize()</code>可以将<code>string</code>对象的大小（即：<code>size()</code>的值），有以下集几种情况：</p>
<ol>
<li><p>如果<code>n</code>小于<code>string</code>对象原有的大小，则删除<code>n</code>个字符以外的字符（这个操作比较危险）</p>
</li>
<li><p>如果<code>n</code>大于<code>string</code>对象原有的大小，则尾插任意字符（默认表现为空字符<code>\0</code>）扩充到当前的内容，使得大小达到<code>n</code>。因此如果有填充某个字符串的需求，也是可以用这个函数的</p>
</li>
<li><p>如果指定了字符<code>c</code>，则多开辟的空间初始化为字符<code>c</code></p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//1.创建一个&quot;abcde&quot;为内容的string对象，size()值为5，capacity()默认值为15</span></span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcde&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//2.调整size()值为20的string对象，而在VS2022中表现为填充15个空字符&#x27;\0&#x27;，而空字符是没有打印出来的</span></span><br><span class="line">    str.<span class="built_in">resize</span>(<span class="number">20</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.调整size()值为30的string对象，因此：前5个字符为&quot;abcde&quot;，后面有15个&#x27;\0&#x27;，并且还有10个&#x27;c&#x27;字符，整体打印出&quot;abcdecccccccccc&quot;</span></span><br><span class="line">    str.<span class="built_in">resize</span>(<span class="number">30</span>, <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.缩小size()值，并且可以看到，扩容的空间依旧有效</span></span><br><span class="line">    str.<span class="built_in">resize</span>(<span class="number">5</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-5-reserve"><a href="#6-5-reserve" class="headerlink" title="6.5.reserve()"></a>6.5.reserve()</h2><p>这个函数请求改变容量，要求将<code>string</code>对象调整到大小为<code>n</code>的容量（或者比<code>n</code>更大）这个函数对字符串的长度没有影响，也不能改变它的内容。</p>
<p>如果使用者做了缩小容量的操作，并且影响到原有<code>string</code>对象字符串的存储时，该函数会拒绝请求（即：<code>non-binding</code>无约束力的）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//1.创建一个&quot;abcde&quot;为内容的string对象，size()值为5，capacity()默认值为15</span></span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcde&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//2.调整capacity()值为20的string对象</span></span><br><span class="line">    str.<span class="built_in">reserve</span>(<span class="number">20</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.调整capacity()值为30的string对象</span></span><br><span class="line">    str.<span class="built_in">reserve</span>(<span class="number">30</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.减小capacity()值为4的string对象（失败请求）</span></span><br><span class="line">    str.<span class="built_in">reserve</span>(<span class="number">4</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.增大capacity()值为10的string对象</span></span><br><span class="line">    str.<span class="built_in">reserve</span>(<span class="number">10</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：函数名<code>reserve</code>有时候会和单词<code>reversal</code>（反转）搞混，这个注意一下就行……</p>
</blockquote>
<h2 id="6-6-empty"><a href="#6-6-empty" class="headerlink" title="6.6.empty()"></a>6.6.empty()</h2><p>该函数返回字符串是否为空（即：<code>size()</code>是否为0)，这个函数不会以任何方式修改字符串的值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">empty</span>() &lt;&lt; endl;</span><br><span class="line">    str.<span class="built_in">resize</span>(<span class="number">0</span>);<span class="comment">//为空返回true</span></span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">empty</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-7-shrink-to-fit"><a href="#6-7-shrink-to-fit" class="headerlink" title="6.7.shrink_to_fit()"></a>6.7.shrink_to_fit()</h2><p><code>shrink to fit</code>这个词的意思就是“缩小以适应”，该函数请求减少容量<code>capacity</code>来适应大小<code>size</code>，当然这只是一种请求（即：<code>non-binding</code>无约束力的）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcde&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">    str.<span class="built_in">reserve</span>(<span class="number">1000</span>);<span class="comment">//明明大小只有5，容量确高达1000多，浪费资源</span></span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    str.<span class="built_in">shrink_to_fit</span>();<span class="comment">//使用该函数请求缩小容量（非强制）</span></span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">capacity</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="7-访问元素（Element-access）"><a href="#7-访问元素（Element-access）" class="headerlink" title="7.访问元素（Element access）"></a>7.访问元素（Element access）</h1><h2 id="7-1-operator"><a href="#7-1-operator" class="headerlink" title="7.1.operator[]"></a>7.1.operator[]</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载形式</span></span><br><span class="line"><span class="type">char</span>&amp; <span class="keyword">operator</span>[] (<span class="type">size_t</span> pos);</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>&amp; <span class="keyword">operator</span>[] (<span class="type">size_t</span> pos) <span class="type">const</span>;</span><br></pre></td></tr></table></figure>

<p><code>pos</code>的起始位置为<code>0</code>，这意味这和数组的使用形式类似。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; str[i]; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; str[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果<code>pos</code>等于<code>string</code>对象的<code>size</code>值，这个符号重载函数就会返回一个指向空字符的引用，该字符位于<code>string</code>对象最后一个字符之后（这个字符不可被修改，只所以可以被允许访问的其中一个原因就是方便写循环终止条件，就像上面的循环例子）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;空字符-&gt;[&quot;</span> &lt;&lt; str[str.<span class="built_in">size</span>()] &lt;&lt; <span class="string">&quot;]&quot;</span> &lt;&lt; endl;<span class="comment">//可以看到空字符没有办法打印出来</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-2-at"><a href="#7-2-at" class="headerlink" title="7.2.at()"></a>7.2.at()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载声明</span></span><br><span class="line"><span class="function"><span class="type">char</span>&amp; <span class="title">at</span> <span class="params">(<span class="type">size_t</span> pos)</span></span>;</span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span>&amp; <span class="title">at</span> <span class="params">(<span class="type">size_t</span> pos)</span> <span class="type">const</span></span>;</span><br></pre></td></tr></table></figure>

<p>该函数可以获取字符串中的字符，返回一个<code>pos</code>指向字符的引用，该函数自动检查<code>pos</code>是否是<code>string</code>对象中合法的字符索引，非法则抛出异常。</p>
<p>那么<code>at()</code>和<code>[]</code>有什么区别呢？答案在于自动检查出现非法时，例如下面的代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;str = &quot;</span> &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;str.size() = &quot;</span> &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; &quot;str[7] = &quot; &lt;&lt; str[7] &lt;&lt; endl;//第一情况</span></span><br><span class="line">        <span class="comment">//cout &lt;&lt; &quot;at(7) = &quot; &lt;&lt; str.at(7) &lt;&lt; endl;//第二情况</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (<span class="type">const</span> std::out_of_range&amp; e)<span class="comment">//出现异常时执行下面代码</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;error&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用<code>[]</code>的报错和使用<code>at</code>的报错不一样。总的来说，抛异常会更加安全（并且抛异常是面向对象语言的一个显著特征）具体的抛异常细节我们以后再来学习……</p>
<h2 id="7-3-back"><a href="#7-3-back" class="headerlink" title="7.3.back()"></a>7.3.back()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载声明</span></span><br><span class="line"><span class="function"><span class="type">char</span>&amp; <span class="title">back</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span>&amp; <span class="title">back</span><span class="params">()</span> <span class="type">const</span></span>;</span><br></pre></td></tr></table></figure>

<p>该函数返回最后一个有效字符的引用（不是指空字符），此函数不能再空<code>string</code>对象上调用。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str1</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str1.size() = &quot;</span> &lt;&lt; str1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str1.back() = &quot;</span> &lt;&lt; str1.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str2 = &quot;</span> &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str2.size() = &quot;</span> &lt;&lt; str2.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;str2.back() = &quot; &lt;&lt; str2.back() &lt;&lt; endl;//会出现报错</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-4-front"><a href="#7-4-front" class="headerlink" title="7.4.front()"></a>7.4.front()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">char</span>&amp; <span class="title">front</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span>&amp; <span class="title">front</span><span class="params">()</span> <span class="type">const</span></span>;</span><br></pre></td></tr></table></figure>

<p>类似<code>end()</code>的使用，不过获取到字符是开头的字符。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str1</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str1.size() = &quot;</span> &lt;&lt; str1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str1.front() = &quot;</span> &lt;&lt; str1.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str2 = &quot;</span> &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str2.size() = &quot;</span> &lt;&lt; str2.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;str2.front() = &quot; &lt;&lt; str2.front() &lt;&lt; endl;//直接会出现报错</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="8-修改器（Modifiers）"><a href="#8-修改器（Modifiers）" class="headerlink" title="8.修改器（Modifiers）"></a>8.修改器（Modifiers）</h1><h2 id="8-1-operator"><a href="#8-1-operator" class="headerlink" title="8.1.operator+&#x3D;()"></a>8.1.operator+&#x3D;()</h2><p>用得比较多。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载声明</span></span><br><span class="line">string&amp; <span class="keyword">operator</span>+= (<span class="type">const</span> string&amp; str);</span><br><span class="line">string&amp; <span class="keyword">operator</span>+= (<span class="type">const</span> <span class="type">char</span>* s);</span><br><span class="line">string&amp; <span class="keyword">operator</span>+= (<span class="type">char</span> c);</span><br></pre></td></tr></table></figure>

<h2 id="8-2-append"><a href="#8-2-append" class="headerlink" title="8.2.append()"></a>8.2.append()</h2><p>尾插，即便有很多重载，但是用的比较少，这里只给出声明，您可以自己玩玩看。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载声明</span></span><br><span class="line"><span class="function">string&amp; <span class="title">append</span> <span class="params">(<span class="type">const</span> string&amp; str)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">append</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> subpos, <span class="type">size_t</span> sublen)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">append</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">append</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">append</span> <span class="params">(<span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>&gt;  </span><br><span class="line"><span class="function">string&amp; <span class="title">append</span> <span class="params">(InputIterator first, InputIterator last)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">append</span> <span class="params">(initializer_list&lt;<span class="type">char</span>&gt; il)</span></span>;</span><br></pre></td></tr></table></figure>

<h2 id="8-3-push-back"><a href="#8-3-push-back" class="headerlink" title="8.3.push_back ()"></a>8.3.push_back ()</h2><p>尾插单字符，爷用的比较少，您也可以自己玩玩。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_back</span> <span class="params">(<span class="type">char</span> c)</span></span>;</span><br></pre></td></tr></table></figure>

<p>添加字符<code>c</code>到<code>string</code>对象的末尾，并且<code>size()</code>长度<code>+1</code>。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str = &quot;</span> &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str.size() = &quot;</span> &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    str.<span class="built_in">push_back</span>(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str = &quot;</span> &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str.size() = &quot;</span> &lt;&lt; str.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以拿尾插类的函数来测试环境的扩容机制：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUMBER 100</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str;</span><br><span class="line">    <span class="type">size_t</span> old = str.<span class="built_in">capacity</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Init:&quot;</span> &lt;&lt; old &lt;&lt; endl;</span><br><span class="line">    <span class="type">size_t</span> newValue = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; NUMBER; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        str.<span class="built_in">push_back</span>(<span class="string">&#x27;x&#x27;</span>);<span class="comment">//推送</span></span><br><span class="line">        newValue = str.<span class="built_in">capacity</span>();<span class="comment">//记录新值</span></span><br><span class="line">        <span class="keyword">if</span> (newValue != old)<span class="comment">//新值和旧值对比</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;dilatation = &quot;</span> &lt;&lt; newValue &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            old = newValue;</span><br><span class="line">            cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-4-instert"><a href="#8-4-instert" class="headerlink" title="8.4.instert()"></a>8.4.instert()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载声明</span></span><br><span class="line"><span class="function">string&amp; <span class="title">insert</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">const</span> string&amp; str)</span></span>;<span class="comment">//插入string对象内的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">insert</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">const</span> string&amp; str, <span class="type">size_t</span> subpos, <span class="type">size_t</span> sublen)</span></span>;<span class="comment">//插入子串，注意这里后两个参数不是输入子串的首尾索引，而是输入子串的起始索引和子串长度</span></span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">insert</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">const</span> <span class="type">char</span>* s)</span></span>;<span class="comment">//插入C风格的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">insert</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span></span>;<span class="comment">////插入C风格的字符串，并且限定长度</span></span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">insert</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>;<span class="comment">//重复插入n个c字符</span></span><br><span class="line"></span><br><span class="line"><span class="function">iterator <span class="title">insert</span> <span class="params">(const_iterator p, <span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>;<span class="comment">//使用迭代器来，插入重复的字符，并返回指向第一个插入元素的迭代器</span></span><br><span class="line"></span><br><span class="line"><span class="function">iterator <span class="title">insert</span> <span class="params">(const_iterator p, <span class="type">char</span> c)</span></span>;<span class="comment">//使用迭代定位，插入一个字符，并返回指向第一个插入元素的迭代器</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>&gt;</span><br><span class="line"><span class="function">iterator <span class="title">insert</span> <span class="params">(iterator p, InputIterator first, InputIterator last)</span></span>;<span class="comment">//将迭代器[first, last)的字符插入到目标string对象的迭代器定位处</span></span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">insert</span> <span class="params">(const_iterator p, initializer_list&lt;<span class="type">char</span>&gt; il)</span></span>;<span class="comment">//在迭代器定位处插入字符序列</span></span><br></pre></td></tr></table></figure>

<p>可以看到这个函数有很多重载版本，让我们来用一个测试例子研究一下，不过这个函数能不用就最好别用，效率不高。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;1.string&amp; insert (size_t pos, const string&amp; str);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="function">string <span class="title">str1</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">    string sstr1 = <span class="string">&quot;xxxxx&quot;</span>;</span><br><span class="line">    str1.<span class="built_in">insert</span>(<span class="number">0</span>, sstr1);</span><br><span class="line">    cout &lt;&lt; str1 &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;2.string&amp; insert (size_t pos, const string&amp; str, size_t subpos, size_t sublen);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line">    string sstr2 = <span class="string">&quot;ABCDEEEEFGHIJK&quot;</span>;</span><br><span class="line">    str2.<span class="built_in">insert</span>(str2.<span class="built_in">size</span>(), sstr2, <span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">    cout &lt;&lt; str2 &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;3.string&amp; insert (size_t pos, const char* s);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    string str3 = <span class="string">&quot;abcdef&quot;</span>;<span class="comment">//这是一个C风格的字符串</span></span><br><span class="line">    cout &lt;&lt; str3 &lt;&lt; endl;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* sstr3 = <span class="string">&quot;__________&quot;</span>;</span><br><span class="line">    str3.<span class="built_in">insert</span>(str3.<span class="built_in">size</span>(), sstr3);</span><br><span class="line">    cout &lt;&lt; str3 &lt;&lt; endl &lt;&lt; endl;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;4.string&amp; insert (size_t pos, const char* s, size_t n);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="function">string <span class="title">str4</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str4 &lt;&lt; endl;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* sstr4 = <span class="string">&quot;bbbbbxxxxxxxxxxxxxx&quot;</span>;<span class="comment">//只想截取长度为前5个字符的字符</span></span><br><span class="line">    str4.<span class="built_in">insert</span>(<span class="number">1</span>, sstr4, <span class="number">5</span>);</span><br><span class="line">    cout &lt;&lt; str4 &lt;&lt; endl &lt;&lt; endl;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;5.string&amp; insert (size_t pos, size_t n, char c);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="function">string <span class="title">str5</span><span class="params">(<span class="string">&quot;ABCDEFG&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str5 &lt;&lt; endl;</span><br><span class="line">    str5.<span class="built_in">insert</span>(<span class="number">1</span>, <span class="number">20</span>, <span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">    cout &lt;&lt; str5 &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;6.iterator insert(const_iterator p, size_t n, char c);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    string str6  = <span class="string">&quot;QWERT&quot;</span>;</span><br><span class="line">    str6.<span class="built_in">insert</span>(str6.<span class="built_in">begin</span>() + <span class="number">3</span>, <span class="number">10</span>, <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    cout &lt;&lt; str6 &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;7.iterator insert (const_iterator p, char c);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    string str7 = <span class="string">&quot;AAAAAAAAA&quot;</span>;</span><br><span class="line">    str7.<span class="built_in">insert</span>(str7.<span class="built_in">end</span>(), <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    cout &lt;&lt; str7 &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;8.template &lt;class InputIterator&gt; &quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;  iterator insert(iterator p, InputIterator first, InputIterator last);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    string str8 = <span class="string">&quot;XXXX&quot;</span>;</span><br><span class="line">    string sstr8 = <span class="string">&quot;|bcde|&quot;</span>;</span><br><span class="line">    str8.<span class="built_in">insert</span>(str8.<span class="built_in">begin</span>(), sstr8.<span class="built_in">begin</span>() + <span class="number">1</span>, sstr8.<span class="built_in">end</span>() - <span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; str8 &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;9. string&amp; insert (const_iterator p, initializer_list&lt;char&gt; il);&quot;</span> &lt;&lt; endl;</span><br><span class="line">    string str9 = <span class="string">&quot;XXXX&quot;</span>;</span><br><span class="line">    str9.<span class="built_in">insert</span>(str9.<span class="built_in">begin</span>() + <span class="number">2</span>, &#123; <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span> &#125;);</span><br><span class="line">    cout &lt;&lt; str9 &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-5-erase"><a href="#8-5-erase" class="headerlink" title="8.5.erase()"></a>8.5.erase()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">erase</span> <span class="params">(<span class="type">size_t</span> pos = <span class="number">0</span>, <span class="type">size_t</span> len = npos)</span></span>;<span class="comment">//全部删除（默认）</span></span><br><span class="line"></span><br><span class="line"><span class="function">iterator <span class="title">erase</span> <span class="params">(const_iterator p)</span></span>;<span class="comment">//使用迭代器删除指定位置</span></span><br><span class="line"></span><br><span class="line"><span class="function">iterator <span class="title">erase</span> <span class="params">(const_iterator first, const_iterator last)</span></span>;<span class="comment">//</span></span><br></pre></td></tr></table></figure>

<p>这个函数主要是用来擦除字符串的一部分，并减小<code>size()</code>的值，直接使用则默认为全部删除，这个函数能不用就最好别用，也是效率不太高。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">str.<span class="built_in">erase</span>(str.<span class="built_in">begin</span>() + <span class="number">3</span>);</span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">str.<span class="built_in">erase</span>(str.<span class="built_in">begin</span>(), str.<span class="built_in">end</span>() - <span class="number">2</span>);</span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">str.<span class="built_in">erase</span>();</span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<h2 id="8-6-replace"><a href="#8-6-replace" class="headerlink" title="8.6.replace()"></a>8.6.replace()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//string (1)    </span></span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos,        <span class="type">size_t</span> len,        <span class="type">const</span> string&amp; str)</span></span>;</span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">const</span> string&amp; str)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//substring (2)    </span></span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len,        <span class="type">const</span> string&amp; str, <span class="type">size_t</span> subpos, <span class="type">size_t</span> sublen)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//c-string (3)    </span></span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> <span class="type">char</span>* s)</span></span>;</span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">const</span> <span class="type">char</span>* s)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//buffer (4)    </span></span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len,        <span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span></span>;</span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//fill (5)    </span></span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len,        <span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>;</span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//range (6)    </span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>&gt;</span><br><span class="line">  <span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, InputIterator first, InputIterator last)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//initializer list (7)    </span></span><br><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, initializer_list&lt;<span class="type">char</span>&gt; il)</span></span>;</span><br></pre></td></tr></table></figure>

<p>该函数主要用于替换，参数也很多，您可以稍微玩一下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;abc def&quot;</span>;</span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">str.<span class="built_in">replace</span>(<span class="number">3</span>, <span class="number">2</span>, <span class="string">&quot;&amp;%#&quot;</span>);<span class="comment">//将str索引为3起始的长度为2的子串替换成&quot;&amp;%#&quot;</span></span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<p>也不太建议使用，效率比较低下，需要的时候可以使用一下。当然我们也可以自己设计一个算法解决：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//设计一个算法让下面string对象的空格改为20%</span></span><br><span class="line">    string str = <span class="string">&quot;abc def&quot;</span>;</span><br><span class="line">    string strx;</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//空间换时间</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> ch : str)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch != <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            strx += ch;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            strx += <span class="string">&quot;20%&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//str = strx;</span></span><br><span class="line">    <span class="comment">//或者使用全局的swap()，但是使用这个会效率很低，内部有一次拷贝构造两次赋值，很糟糕</span></span><br><span class="line">    str.<span class="built_in">swap</span>(strx);<span class="comment">//string的swap()效率就会高很多，这个成员函数只是交换了指针指向，效率很高</span></span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//这样的效率都会比较高</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//不过需要注意的是，就算我们直接使用全局的swap()也不会真的调用到最麻烦的哪一个，因为库已经针对全局的swap()进行了重载，内部调用的也是成员的swap()</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-7-swap"><a href="#8-7-swap" class="headerlink" title="8.7.swap()"></a>8.7.swap()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span> <span class="params">(string&amp; str)</span></span>;</span><br></pre></td></tr></table></figure>

<p>成员交换函数，效率比全局的要高，就是前面代码使用的那一个函数。后面介绍的全局<code>swap()</code>调用的就是这个成员函数。</p>
<h1 id="9-字符串运算（String-operations）"><a href="#9-字符串运算（String-operations）" class="headerlink" title="9.字符串运算（String operations）"></a>9.字符串运算（String operations）</h1><h2 id="9-1-c-str-和data"><a href="#9-1-c-str-和data" class="headerlink" title="9.1.c_str()和data()"></a>9.1.c_str()和data()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span>* <span class="title">c_str</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span>* <span class="title">data</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>有时候为了和<code>C</code>兼容，需要使用<code>C</code>风格的字符串（以<code>\0</code>）。而<code>c_str()</code>可以使得<code>string</code>对象返回底层的<code>C</code>风格的字符串成员变量，从这里我们也可以看到，虽然<code>string</code>不以<code>\0</code>作为结尾标志，但是依旧会在构造<code>string</code>对象的时候存储<code>\0</code>，以保证能与<code>C</code>兼容。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str&quot;</span> &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; str &lt;&lt; <span class="string">&quot; 类型：&quot;</span> &lt;&lt; <span class="built_in">typeid</span>(str).<span class="built_in">name</span>() &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">    <span class="type">char</span>* ch;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">typeid</span>(ch).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str.c_str()&quot;</span> &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; str.<span class="built_in">c_str</span>() &lt;&lt; <span class="string">&quot; 类型：&quot;</span> &lt;&lt; <span class="built_in">typeid</span>(str.<span class="built_in">c_str</span>()).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;str.data()&quot;</span> &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; str.<span class="built_in">data</span>() &lt;&lt; <span class="string">&quot; 类型：&quot;</span> &lt;&lt; <span class="built_in">typeid</span>(str.<span class="built_in">data</span>()).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而<code>data()</code>和<code>s_str()</code>的使用是等价的，没有太大区别。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">    string str = <span class="string">&quot;Test string&quot;</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* cstr = <span class="string">&quot;Test string&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (str.<span class="built_in">length</span>() == <span class="built_in">strlen</span>(cstr))</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;1&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">memcmp</span>(cstr, str.<span class="built_in">data</span>(), str.<span class="built_in">length</span>()) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;1&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-2-cpoy"><a href="#9-2-cpoy" class="headerlink" title="9.2.cpoy()"></a>9.2.cpoy()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">copy</span> <span class="params">(<span class="type">char</span>* s, <span class="type">size_t</span> len, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span></span>;</span><br></pre></td></tr></table></figure>

<p>将<code>string</code>对象当前值，从<code>pos</code>位置开始的长度为<code>len</code>子串拷贝到<code>s</code>指向的数组中。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">str</span><span class="params">(<span class="string">&quot;abcd&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">char</span> s[<span class="number">3</span>] = &#123; <span class="number">0</span> &#125;;<span class="comment">//如果这里没有加入初始化&#123; 0 &#125;，那么后续打印s数组就会出现乱码，原因就是找不到空字符</span></span><br><span class="line">    str.<span class="built_in">copy</span>(s, <span class="number">2</span>);</span><br><span class="line">    std::cout &lt;&lt; s &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-3-find-和rfind"><a href="#9-3-find-和rfind" class="headerlink" title="9.3.find()和rfind()"></a>9.3.find()和rfind()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos, size_type n)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find</span> <span class="params">(<span class="type">char</span> c, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>该函数可以寻找字符串或者<code>string</code>对象中的内容，。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//1.寻找string子串</span></span><br><span class="line">    <span class="function">string <span class="title">str1</span><span class="params">(<span class="string">&quot;abcd-abcd-abcd&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;abcd&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">find</span>(str2, <span class="number">0</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">find</span>(str2, <span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">find</span>(str2, <span class="number">6</span>) &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//2.寻找C风格子串</span></span><br><span class="line">    <span class="function">string <span class="title">str3</span><span class="params">(<span class="string">&quot;ABCD-ABCD-ABCD&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* str4 = <span class="string">&quot;ABCD&quot;</span>;</span><br><span class="line">    cout &lt;&lt; str3.<span class="built_in">find</span>(str4, <span class="number">0</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str3.<span class="built_in">find</span>(str4, <span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str3.<span class="built_in">find</span>(str4, <span class="number">6</span>) &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.在范围内寻找C风格子串</span></span><br><span class="line">    <span class="function">string <span class="title">str5</span><span class="params">(<span class="string">&quot;ABCD-AB-ABCD-AB-ABCD&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* str6 = <span class="string">&quot;ABCD&quot;</span>;</span><br><span class="line">    cout &lt;&lt; str5.<span class="built_in">find</span>(str6, <span class="number">0</span>, <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str5.<span class="built_in">find</span>(str6, <span class="number">1</span>, <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str5.<span class="built_in">find</span>(str6, <span class="number">6</span>, <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str5.<span class="built_in">find</span>(str6, <span class="number">9</span>, <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str5.<span class="built_in">find</span>(str6, <span class="number">14</span>, <span class="number">2</span>) &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.寻找字符</span></span><br><span class="line">    <span class="function">string <span class="title">str7</span><span class="params">(<span class="string">&quot;xxxxxxx_xxxx_xxxxxxxxxx_&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">char</span> ch = <span class="string">&#x27;_&#x27;</span>;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; str7.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> z = str7.<span class="built_in">find</span>(ch, i);</span><br><span class="line">        <span class="keyword">if</span> (j != z)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; z &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            j = z;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而<code>rfind()</code>就是逆向查找，具体定义看下文档就行，使用和<code>find()</code>类似。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载声明</span></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">rfind</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">rfind</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">rfind</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos, <span class="type">size_t</span> n)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">rfind</span> <span class="params">(<span class="type">char</span> c, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<h2 id="9-4-substr"><a href="#9-4-substr" class="headerlink" title="9.4.substr()"></a>9.4.substr()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="function">string <span class="title">substr</span> <span class="params">(<span class="type">size_t</span> pos = <span class="number">0</span>, <span class="type">size_t</span> len = npos)</span> <span class="type">const</span></span>;</span><br></pre></td></tr></table></figure>

<p>这个函数可以用来生成一个新的子串对象（从源string对象的pos开始的长度为len的子字符串）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;awwwwf&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">substr</span>(<span class="number">1</span>, <span class="number">4</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-5-compare"><a href="#9-5-compare" class="headerlink" title="9.5.compare()"></a>9.5.compare()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载函数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span> <span class="params">(<span class="type">const</span> string&amp; str)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;<span class="comment">//比较两个string对象</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> string&amp; str)</span> <span class="type">const</span></span>;<span class="comment">//在源string对象的子串和str对象比较</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> string&amp; str, <span class="type">size_t</span> subpos, <span class="type">size_t</span> sublen)</span> <span class="type">const</span></span>;<span class="comment">//在源string对象的子串内和str对象的子串比较</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s)</span> <span class="type">const</span></span>;<span class="comment">//和C风格的字符串比较</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> <span class="type">char</span>* s)</span> <span class="type">const</span></span>;<span class="comment">//string对象的子串和C风格的字符串比较</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span> <span class="type">const</span></span>;<span class="comment">//string对象的子串和C风格的字符串的子串比较</span></span><br></pre></td></tr></table></figure>

<p>该函数主要是比较字符大小，和<code>C</code>语言的<code>strcmp()</code>类似返回指定的字符序列。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">// comparing apples with apples</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str1</span><span class="params">(<span class="string">&quot;green apple&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;red apple&quot;</span>)</span></span>;</span><br><span class="line">    <span class="comment">//g &lt; r &lt;=&gt; g - r &lt; 0</span></span><br><span class="line">    <span class="comment">//&quot;green apple&quot; &lt; &quot;red apple&quot;</span></span><br><span class="line">    <span class="keyword">if</span> (str1.<span class="built_in">compare</span>(str2) &lt; <span class="number">0</span>)</span><br><span class="line">        cout &lt;&lt; str1 &lt;&lt; <span class="string">&quot; is not &quot;</span> &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//&quot;apple&quot; == &quot;apple&quot;</span></span><br><span class="line">    <span class="keyword">if</span> (str1.<span class="built_in">compare</span>(<span class="number">6</span>, <span class="number">5</span>, <span class="string">&quot;apple&quot;</span>) == <span class="number">0</span>)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;still, &quot;</span> &lt;&lt; str1 &lt;&lt; <span class="string">&quot; is an apple&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//&quot;apple&quot; == &quot;apple&quot;</span></span><br><span class="line">    <span class="keyword">if</span> (str2.<span class="built_in">compare</span>(str2.<span class="built_in">size</span>() - <span class="number">5</span>, <span class="number">5</span>, <span class="string">&quot;apple&quot;</span>) == <span class="number">0</span>)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;and &quot;</span> &lt;&lt; str2 &lt;&lt; <span class="string">&quot; is also an apple&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//&quot;apple&quot; == &quot;apple&quot; </span></span><br><span class="line">    <span class="keyword">if</span> (str1.<span class="built_in">compare</span>(<span class="number">6</span>, <span class="number">5</span>, str2, <span class="number">4</span>, <span class="number">5</span>) == <span class="number">0</span>)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;therefore, both are apples&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* str3 = <span class="string">&quot;green apple&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (str1.<span class="built_in">compare</span>(str3) == <span class="number">0</span>)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;one and the same&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不过这个函数不怎么使用，原因是后面有很多的判断符号重载，这些重载更加方便。</p>
<h2 id="9-6-find-first-of"><a href="#9-6-find-first-of" class="headerlink" title="9.6.find_first_of()"></a>9.6.find_first_of()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载函数</span></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_of</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos, <span class="type">size_t</span> n)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_of</span> <span class="params">(<span class="type">char</span> c, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>在字符串中查找第一次出现指定字符集合中任何一个字符的位置。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str1 = <span class="string">&quot;xxx_big_apple_xxx&quot;</span>;</span><br><span class="line">    string str2 = <span class="string">&quot;be&quot;</span>;</span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">find_first_of</span>(str2, <span class="number">0</span>) &lt;&lt; endl;<span class="comment">//输出4</span></span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">find_first_of</span>(str2, <span class="number">5</span>) &lt;&lt; endl;<span class="comment">//输出12</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>吐槽：这个函数的名字真不好理解……</p>
</blockquote>
<h2 id="9-7-find-last-of"><a href="#9-7-find-last-of" class="headerlink" title="9.7.find_last_of()"></a>9.7.find_last_of()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载函数</span></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_of</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos, <span class="type">size_t</span> n)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_of</span> <span class="params">(<span class="type">char</span> c, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>在字符串中查找最后一次出现指定字符集合中任何一个字符的位置。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str1 = <span class="string">&quot;xxx_big_apple_xxx&quot;</span>;</span><br><span class="line">    string str2 = <span class="string">&quot;be&quot;</span>;</span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">find_last_of</span>(str2, str1.<span class="built_in">size</span>() - <span class="number">1</span>) &lt;&lt; endl;<span class="comment">//输出12</span></span><br><span class="line">    cout &lt;&lt; str1.<span class="built_in">find_last_of</span>(str2, <span class="number">11</span>) &lt;&lt; endl;<span class="comment">//输出4</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-8-find-first-not-of"><a href="#9-8-find-first-not-of" class="headerlink" title="9.8.find_first_not_of()"></a>9.8.find_first_not_of()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载函数</span></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_not_of</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_not_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_not_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos, <span class="type">size_t</span> n)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_not_of</span> <span class="params">(<span class="type">char</span> c, <span class="type">size_t</span> pos = <span class="number">0</span>)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>这个函数可以查找不是指定字符集合中的任何一个字符的位置。</p>
<p>下面是一个例子（制作屏蔽词语）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;saldgcaslucdgleakjslaejcsfkajsasducgiasfg&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">size_t</span> index = str.<span class="built_in">find_first_not_of</span>(<span class="string">&quot;abcdef&quot;</span>, <span class="number">0</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">while</span> (index != string::npos)</span><br><span class="line">    &#123;</span><br><span class="line">        str[index] = <span class="string">&#x27;*&#x27;</span>;</span><br><span class="line">        index = str.<span class="built_in">find_first_not_of</span>(<span class="string">&quot;abcdef&quot;</span>, index + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-9-find-last-not-of"><a href="#9-9-find-last-not-of" class="headerlink" title="9.9.find_last_not_of()"></a>9.9.find_last_not_of()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载函数</span></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_not_of</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_not_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_not_of</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> pos, <span class="type">size_t</span> n)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_last_not_of</span> <span class="params">(<span class="type">char</span> c, <span class="type">size_t</span> pos = npos)</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>上面这个函数就是从后面开始查找，这里就不再举例了……</p>
<h2 id="9-10-get-allocator"><a href="#9-10-get-allocator" class="headerlink" title="9.10.get_allocator()"></a>9.10.get_allocator()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="function">allocator_type <span class="title">get_allocator</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>这个函数就比较复杂了，您可以先去查看一下文档，或者以后我们有机会再来详谈……</p>
<h2 id="9-11-assign"><a href="#9-11-assign" class="headerlink" title="9.11.assign()"></a>9.11.assign()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载函数</span></span><br><span class="line"><span class="function">string&amp; <span class="title">assign</span> <span class="params">(<span class="type">const</span> string&amp; str)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">assign</span> <span class="params">(<span class="type">const</span> string&amp; str, <span class="type">size_t</span> subpos, <span class="type">size_t</span> sublen)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">assign</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">assign</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">assign</span> <span class="params">(<span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>&gt;</span><br><span class="line">   <span class="function">string&amp; <span class="title">assign</span> <span class="params">(InputIterator first, InputIterator last)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">assign</span> <span class="params">(initializer_list&lt;<span class="type">char</span>&gt; il)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">string&amp; <span class="title">assign</span> <span class="params">(string&amp;&amp; str)</span> <span class="keyword">noexcept</span></span>;</span><br></pre></td></tr></table></figure>

<p>这个函数也不经常使用，实际在一种赋值的工作：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str1 = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">    string str2 = <span class="string">&quot;xxxxxx&quot;</span>;</span><br><span class="line">    str1.<span class="built_in">assign</span>(str2);</span><br><span class="line">    cout &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="10-常量成员（Member-constants）"><a href="#10-常量成员（Member-constants）" class="headerlink" title="10.常量成员（Member constants）"></a>10.常量成员（Member constants）</h1><p>string类的常量成员，也就是前面介绍的<code>npos</code>，之前已经简单提到过，这里就放一下<code>npos</code>的定义使得本文章足够完整：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常量定义</span></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">size_t</span> npos = <span class="number">-1</span>;</span><br></pre></td></tr></table></figure>

<h1 id="11-非成员函数重载（Non-member-function-overloads）"><a href="#11-非成员函数重载（Non-member-function-overloads）" class="headerlink" title="11.非成员函数重载（Non-member function overloads）"></a>11.非成员函数重载（Non-member function overloads）</h1><h2 id="11-1-operator"><a href="#11-1-operator" class="headerlink" title="11.1.operator+()"></a>11.1.operator+()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">string <span class="keyword">operator</span>+ (<span class="type">const</span> string&amp; lhs, <span class="type">const</span> string&amp; rhs);</span><br><span class="line"></span><br><span class="line">string <span class="keyword">operator</span>+ (<span class="type">const</span> string&amp; lhs, <span class="type">const</span> <span class="type">char</span>* rhs);</span><br><span class="line">string <span class="keyword">operator</span>+ (<span class="type">const</span> <span class="type">char</span>* lhs, <span class="type">const</span> string&amp; rhs);</span><br><span class="line"></span><br><span class="line">string <span class="keyword">operator</span>+ (<span class="type">const</span> string&amp; lhs, <span class="type">char</span>          rhs);</span><br><span class="line">string <span class="keyword">operator</span>+ (<span class="type">char</span> lhs, <span class="type">const</span> string&amp; rhs);</span><br></pre></td></tr></table></figure>

<p><code>+</code>的代价要比<code>+=</code>大，因此非必要不要轻易使用<code>+</code>，这里就不演示<code>+</code>的使用了，您玩一下就行。</p>
<h2 id="11-2-relational-operators"><a href="#11-2-relational-operators" class="headerlink" title="11.2.relational operators"></a>11.2.relational operators</h2><p>一些比较运算符重载：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">//(1)</span><br><span class="line">bool operator== (const string&amp; lhs, const string&amp; rhs);</span><br><span class="line">bool operator== (const char*   lhs, const string&amp; rhs);</span><br><span class="line">bool operator== (const string&amp; lhs, const char*   rhs);</span><br><span class="line"></span><br><span class="line">//(2)    </span><br><span class="line">bool operator!= (const string&amp; lhs, const string&amp; rhs);</span><br><span class="line">bool operator!= (const char*   lhs, const string&amp; rhs);</span><br><span class="line">bool operator!= (const string&amp; lhs, const char*   rhs);</span><br><span class="line"></span><br><span class="line">//(3)    </span><br><span class="line">bool operator&lt;  (const string&amp; lhs, const string&amp; rhs);</span><br><span class="line">bool operator&lt;  (const char*   lhs, const string&amp; rhs);</span><br><span class="line">bool operator&lt;  (const string&amp; lhs, const char*   rhs);</span><br><span class="line"></span><br><span class="line">//(4)    </span><br><span class="line">bool operator&lt;= (const string&amp; lhs, const string&amp; rhs);</span><br><span class="line">bool operator&lt;= (const char*   lhs, const string&amp; rhs);</span><br><span class="line">bool operator&lt;= (const string&amp; lhs, const char*   rhs);</span><br><span class="line"></span><br><span class="line">//(5)    </span><br><span class="line">bool operator&gt;  (const string&amp; lhs, const string&amp; rhs);</span><br><span class="line">bool operator&gt;  (const char*   lhs, const string&amp; rhs);</span><br><span class="line">bool operator&gt;  (const string&amp; lhs, const char*   rhs);</span><br><span class="line"></span><br><span class="line">//(6)    </span><br><span class="line">bool operator&gt;= (const string&amp; lhs, const string&amp; rhs);</span><br><span class="line">bool operator&gt;= (const char*   lhs, const string&amp; rhs);</span><br><span class="line">bool operator&gt;= (const string&amp; lhs, const char*   rhs);</span><br></pre></td></tr></table></figure>

<p>内部使用<code>string::compare()</code>函数来进行比较。</p>
<h2 id="11-3-swap"><a href="#11-3-swap" class="headerlink" title="11.3.swap()"></a>11.3.swap()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重载声明</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span> <span class="params">(string&amp; str)</span></span>;</span><br></pre></td></tr></table></figure>

<p>全局交换函数，内部调用了成员函数<code>swap()</code>，这个重载是为了防止调用到低效的全局交换函数。</p>
<h2 id="11-4-operator-和operator"><a href="#11-4-operator-和operator" class="headerlink" title="11.4.operator&gt;&gt;()和operator&lt;&lt;()"></a>11.4.operator&gt;&gt;()和operator&lt;&lt;()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt; (istream&amp; is, string&amp; str);</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt; (ostream&amp; os, <span class="type">const</span> string&amp; str);</span><br></pre></td></tr></table></figure>

<p>这个就是辅助<code>string</code>进行流插入和流输出的重载，也是看下就行，<code>IO</code>类的函数我们以后还会深入讲解。</p>
<h2 id="11-5-getline"><a href="#11-5-getline" class="headerlink" title="11.5.getline()"></a>11.5.getline()</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">istream&amp; <span class="title">getline</span> <span class="params">(istream&amp; is, string&amp; str, <span class="type">char</span> delim)</span></span>;</span><br><span class="line"><span class="function">istream&amp; <span class="title">getline</span> <span class="params">(istream&amp; is, string&amp; str)</span></span>;</span><br></pre></td></tr></table></figure>

<p>这个函数使用的频率也比较高，主要是从流<code>is</code>中获取一行输入<code>string</code>对象，直到遇到文件结束符<code>EOF</code>分隔符，由于返回的是流<code>is</code>的引用，因此可以重复读取。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式1</span></span><br><span class="line">string str1;</span><br><span class="line">cin &gt;&gt; str1;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;str1:&quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式2</span></span><br><span class="line">string str2;</span><br><span class="line"><span class="built_in">getline</span>(cin, str2);</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;str2:&quot;</span> &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式3</span></span><br><span class="line">string str3;</span><br><span class="line"><span class="built_in">getline</span>(cin, str3, <span class="string">&#x27;$&#x27;</span>);<span class="comment">//遇到$就停止读取，抛弃掉$，不再进入后续的输入</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;str3:&quot;</span> &lt;&lt; str3 &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<p>方式<code>1</code>不可以输入带有空格的 ，方式<code>2</code>可以，方式<code>3</code>可以指定结束符号。</p>
<h1 id="12-string相关题目练习"><a href="#12-string相关题目练习" class="headerlink" title="12.string相关题目练习"></a>12.string相关题目练习</h1><h2 id="12-1-字符串中的第一个唯一字符"><a href="#12-1-字符串中的第一个唯一字符" class="headerlink" title="12.1.字符串中的第一个唯一字符"></a>12.1.<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/first-unique-character-in-a-string/">字符串中的第一个唯一字符</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//1.开始计数，生成计数表</span></span><br><span class="line">        <span class="type">int</span> arr[<span class="number">26</span>] = &#123; <span class="number">0</span> &#125;;<span class="comment">//先定义一个数组存储每个字符的出现个数</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> ch : s)</span><br><span class="line">        &#123;</span><br><span class="line">            arr[ch - <span class="string">&#x27;a&#x27;</span>]++;<span class="comment">//开始计数</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.根据string对象和计数表寻找索引</span></span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[s[i] - <span class="string">&#x27;a&#x27;</span>] == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="12-2-将网址分割为：协议、域名、资源名"><a href="#12-2-将网址分割为：协议、域名、资源名" class="headerlink" title="12.2.将网址分割为：协议、域名、资源名"></a>12.2.将网址分割为：协议、域名、资源名</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">mian</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//1.输入网址url</span></span><br><span class="line">    string url;<span class="comment">//https-&gt;://baidu.com-&gt;/limou/file/text</span></span><br><span class="line">    cin &gt;&gt; url;</span><br><span class="line">    <span class="comment">//2.寻找并且拆解url</span></span><br><span class="line">    string protocol;<span class="comment">//协议</span></span><br><span class="line">    string domain;<span class="comment">//域名</span></span><br><span class="line">    string resource;<span class="comment">//资源</span></span><br><span class="line">    <span class="comment">//2.1.寻找协议</span></span><br><span class="line">    <span class="type">int</span> index1 = url.<span class="built_in">find</span>(<span class="string">&quot;:&quot;</span>);<span class="comment">//5</span></span><br><span class="line">    <span class="keyword">if</span> (index1 == string::npos)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;没有协议，退出程序&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.2.寻找域名</span></span><br><span class="line">    <span class="type">int</span> index2 = url.<span class="built_in">find</span>(<span class="string">&quot;/&quot;</span>, index1 + <span class="number">3</span>);<span class="comment">//17</span></span><br><span class="line">    <span class="keyword">if</span> (index2 == string::npos)</span><br><span class="line">    &#123;</span><br><span class="line">        index2 = url.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.3.赋值三个对象</span></span><br><span class="line">    protocol = url.<span class="built_in">substr</span>(<span class="number">0</span>, index1);</span><br><span class="line">    domain = url.<span class="built_in">substr</span>(index1 + <span class="number">3</span>, index2 - (index1 + <span class="number">3</span>));<span class="comment">//17-5-3 = 12-3 = 9</span></span><br><span class="line">    <span class="keyword">if</span> (index2 != url.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        resource = url.<span class="built_in">substr</span>(index2 + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.输出结果</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;protocol = &quot;</span> &lt;&lt; protocol &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span> (domain.<span class="built_in">size</span>() != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;domain = &quot;</span> &lt;&lt; domain &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;没有域名&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(resource.<span class="built_in">size</span>() != <span class="number">0</span>)</span><br><span class="line">    &#123; </span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;resource = &quot;</span> &lt;&lt; resource &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;没有资源&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-3-仅仅反转字母"><a href="#12-3-仅仅反转字母" class="headerlink" title="12.3.仅仅反转字母"></a>12.3.<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-only-letters/">仅仅反转字母</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">IsLetter</span><span class="params">(<span class="type">const</span> <span class="type">char</span>&amp; ch)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((ch &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">            || (ch &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;Z&#x27;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">reverseOnlyLetters</span><span class="params">(string str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> begin = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">auto</span> end = str.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (begin &lt; end)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (!<span class="built_in">IsLetter</span>(str[begin]) &amp;&amp; begin &lt; end)</span><br><span class="line">            &#123;</span><br><span class="line">                begin++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (!<span class="built_in">IsLetter</span>(str[end]) &amp;&amp; begin &lt; end)</span><br><span class="line">            &#123;</span><br><span class="line">                end--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">swap</span>(str[begin], str[end]);</span><br><span class="line">            begin++;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="12-4-字符串最后一个单词的长度"><a href="#12-4-字符串最后一个单词的长度" class="headerlink" title="12.4.字符串最后一个单词的长度"></a>12.4.<a target="_blank" rel="noopener" href="https://www.nowcoder.com/practice/8c949ea5f36f422594b306a2300315da?tpId=37&tqId=21224&ru=/exam/oj">字符串最后一个单词的长度</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//1.输入字符句子</span></span><br><span class="line">    string str;</span><br><span class="line">    <span class="built_in">getline</span>(cin, str);<span class="comment">//hello nowcode</span></span><br><span class="line">    <span class="comment">//2.逆向寻找</span></span><br><span class="line">    <span class="type">size_t</span> index = str.<span class="built_in">rfind</span>(<span class="string">&quot; &quot;</span>);<span class="comment">//得到5</span></span><br><span class="line">    cout &lt;&lt; str.<span class="built_in">size</span>() - index - <span class="number">1</span> &lt;&lt; endl;<span class="comment">//13-5 = 8  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是这么做有些不严谨，再严谨点就是下面代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//1.输入字符句子</span></span><br><span class="line">    string str;</span><br><span class="line">    <span class="built_in">getline</span>(cin, str);<span class="comment">//hello nowcode</span></span><br><span class="line">    <span class="comment">//2.逆向寻找</span></span><br><span class="line">    <span class="type">size_t</span> index = str.<span class="built_in">rfind</span>(<span class="string">&quot; &quot;</span>);<span class="comment">//得到5</span></span><br><span class="line">    <span class="keyword">if</span> (index != string::npos)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; str.<span class="built_in">size</span>() - index - <span class="number">1</span> &lt;&lt; endl;<span class="comment">//13-5 = 8   </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; str.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-5-验证回文串"><a href="#12-5-验证回文串" class="headerlink" title="12.5.验证回文串"></a>12.5.<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-palindrome/description/">验证回文串</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">IsLetterAndNumber</span><span class="params">(<span class="type">const</span> <span class="type">char</span>&amp; ch)</span><span class="comment">//判断是否为字符或者数字</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>((ch &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">            || (ch &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">            || (ch &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;9&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">IsOk</span><span class="params">(<span class="type">char</span> x, <span class="type">char</span> y)</span><span class="comment">//判断是否构成回文的特征</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == y)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((x &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; x &lt;= <span class="string">&#x27;z&#x27;</span>) &amp;&amp; (y &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; y &lt;= <span class="string">&#x27;Z&#x27;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (x - <span class="string">&#x27;a&#x27;</span> + <span class="string">&#x27;A&#x27;</span> == y)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((y &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; x &lt;= <span class="string">&#x27;z&#x27;</span>) &amp;&amp; (x &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; x &lt;= <span class="string">&#x27;Z&#x27;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (y - <span class="string">&#x27;a&#x27;</span> + <span class="string">&#x27;A&#x27;</span> == x)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(string str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//1.取得首尾索引</span></span><br><span class="line">        <span class="comment">//str = &quot;A man, a plan, a canal: Panama&quot;</span></span><br><span class="line">        <span class="type">int</span> begin = <span class="number">0</span>;<span class="comment">//s[begin] = &#x27;A&#x27; </span></span><br><span class="line">        <span class="type">int</span> end = str.<span class="built_in">size</span>() - <span class="number">1</span>;<span class="comment">//str[end] = &#x27;a&#x27;</span></span><br><span class="line">        <span class="comment">//2.循环判断回文</span></span><br><span class="line">        <span class="keyword">while</span> (begin &lt; end)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (begin &lt; end &amp;&amp; !<span class="built_in">IsLetterAndNumber</span>(str[begin]))</span><br><span class="line">            &#123;</span><br><span class="line">                begin++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (begin &lt; end &amp;&amp; !<span class="built_in">IsLetterAndNumber</span>(str[end]))</span><br><span class="line">            &#123;</span><br><span class="line">                end--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">IsOk</span>(str[begin], str[end]))<span class="comment">//如果判断出是相同的就返回true</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            begin++;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2023/12/01/008+limou+2023_09_15+C++%E4%BB%BF%E5%87%BD%E6%95%B0%E5%8E%9F%E7%90%86/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2023/12/01/011+limou+2023_8_11+C++%E7%9A%84string%E7%B1%BB%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0/" rel="prev" title="">
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-string%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">1.string简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-number">2.</span> <span class="nav-text">2.类构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-string"><span class="nav-number">2.1.</span> <span class="nav-text">2.1.string()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-string-const-string-str"><span class="nav-number">2.2.</span> <span class="nav-text">2.2.string (const string&amp; str)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-string-const-string-str-size-t-pos-size-t-len-npos"><span class="nav-number">2.3.</span> <span class="nav-text">2.3.string (const string&amp; str, size_t pos, size_t len &#x3D; npos)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-string-const-char-s"><span class="nav-number">2.4.</span> <span class="nav-text">2.4.string (const char* s)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-string-const-char-s-size-t-n"><span class="nav-number">2.5.</span> <span class="nav-text">2.5.string (const char* s, size_t n)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-string-size-t-n-char-c"><span class="nav-number">2.6.</span> <span class="nav-text">2.6.string (size_t n, char c)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-7-template-string-InputIterator-first-InputIterator-last"><span class="nav-number">2.7.</span> <span class="nav-text">2.7.template &lt;class InputIterator&gt; string (InputIterator first, InputIterator last)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-8-string-initializer-list-il"><span class="nav-number">2.8.</span> <span class="nav-text">2.8.string (initializer_list&lt;char&gt; il)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-9-string-string-str-noexcept"><span class="nav-number">2.9.</span> <span class="nav-text">2.9.string (string&amp;&amp; str) noexcept</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-10-%E8%8B%B1%E6%96%87%E5%A4%87%E6%B3%A8"><span class="nav-number">2.10.</span> <span class="nav-text">2.10.英文备注</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="nav-number">3.</span> <span class="nav-text">3.类析构函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E8%B5%8B%E5%80%BC%E7%AC%A6%E5%8F%B7%E9%87%8D%E8%BD%BD%E5%87%BD%E6%95%B0"><span class="nav-number">4.</span> <span class="nav-text">4.赋值符号重载函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%88Iterators%EF%BC%89"><span class="nav-number">5.</span> <span class="nav-text">5.迭代器（Iterators）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E6%AD%A3%E5%90%91%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%9Abegin-%E5%92%8Cend"><span class="nav-number">5.1.</span> <span class="nav-text">5.1.正向迭代器：begin()和end()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-1-for%E9%81%8D%E5%8E%86"><span class="nav-number">5.1.1.</span> <span class="nav-text">5.1.1.for遍历</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-2-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number">5.1.2.</span> <span class="nav-text">5.1.2.迭代器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-3-%E8%8C%83%E5%9B%B4for"><span class="nav-number">5.1.3.</span> <span class="nav-text">5.1.3.范围for</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-%E5%8F%8D%E5%90%91%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%9Arbegin-%E5%92%8Crend"><span class="nav-number">5.2.</span> <span class="nav-text">5.2.反向迭代器：rbegin()和rend()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E5%B8%B8%E9%87%8F%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number">5.3.</span> <span class="nav-text">5.3.常量迭代器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E5%AE%B9%E7%A7%AF%EF%BC%88Capacity%EF%BC%89"><span class="nav-number">6.</span> <span class="nav-text">6.容积（Capacity）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-size-%E5%92%8Clength-%E5%92%8Ccapacity"><span class="nav-number">6.1.</span> <span class="nav-text">6.1.size()和length()和capacity()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-clear"><span class="nav-number">6.2.</span> <span class="nav-text">6.2.clear()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-max-size"><span class="nav-number">6.3.</span> <span class="nav-text">6.3.max_size()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-resize"><span class="nav-number">6.4.</span> <span class="nav-text">6.4.resize()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-5-reserve"><span class="nav-number">6.5.</span> <span class="nav-text">6.5.reserve()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-6-empty"><span class="nav-number">6.6.</span> <span class="nav-text">6.6.empty()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-7-shrink-to-fit"><span class="nav-number">6.7.</span> <span class="nav-text">6.7.shrink_to_fit()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-%E8%AE%BF%E9%97%AE%E5%85%83%E7%B4%A0%EF%BC%88Element-access%EF%BC%89"><span class="nav-number">7.</span> <span class="nav-text">7.访问元素（Element access）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-operator"><span class="nav-number">7.1.</span> <span class="nav-text">7.1.operator[]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-at"><span class="nav-number">7.2.</span> <span class="nav-text">7.2.at()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-3-back"><span class="nav-number">7.3.</span> <span class="nav-text">7.3.back()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-4-front"><span class="nav-number">7.4.</span> <span class="nav-text">7.4.front()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-%E4%BF%AE%E6%94%B9%E5%99%A8%EF%BC%88Modifiers%EF%BC%89"><span class="nav-number">8.</span> <span class="nav-text">8.修改器（Modifiers）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-1-operator"><span class="nav-number">8.1.</span> <span class="nav-text">8.1.operator+&#x3D;()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2-append"><span class="nav-number">8.2.</span> <span class="nav-text">8.2.append()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-3-push-back"><span class="nav-number">8.3.</span> <span class="nav-text">8.3.push_back ()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-4-instert"><span class="nav-number">8.4.</span> <span class="nav-text">8.4.instert()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-5-erase"><span class="nav-number">8.5.</span> <span class="nav-text">8.5.erase()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-6-replace"><span class="nav-number">8.6.</span> <span class="nav-text">8.6.replace()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-7-swap"><span class="nav-number">8.7.</span> <span class="nav-text">8.7.swap()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%EF%BC%88String-operations%EF%BC%89"><span class="nav-number">9.</span> <span class="nav-text">9.字符串运算（String operations）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-c-str-%E5%92%8Cdata"><span class="nav-number">9.1.</span> <span class="nav-text">9.1.c_str()和data()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-cpoy"><span class="nav-number">9.2.</span> <span class="nav-text">9.2.cpoy()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-3-find-%E5%92%8Crfind"><span class="nav-number">9.3.</span> <span class="nav-text">9.3.find()和rfind()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-4-substr"><span class="nav-number">9.4.</span> <span class="nav-text">9.4.substr()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-5-compare"><span class="nav-number">9.5.</span> <span class="nav-text">9.5.compare()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-6-find-first-of"><span class="nav-number">9.6.</span> <span class="nav-text">9.6.find_first_of()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-7-find-last-of"><span class="nav-number">9.7.</span> <span class="nav-text">9.7.find_last_of()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-8-find-first-not-of"><span class="nav-number">9.8.</span> <span class="nav-text">9.8.find_first_not_of()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-9-find-last-not-of"><span class="nav-number">9.9.</span> <span class="nav-text">9.9.find_last_not_of()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-10-get-allocator"><span class="nav-number">9.10.</span> <span class="nav-text">9.10.get_allocator()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-11-assign"><span class="nav-number">9.11.</span> <span class="nav-text">9.11.assign()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10-%E5%B8%B8%E9%87%8F%E6%88%90%E5%91%98%EF%BC%88Member-constants%EF%BC%89"><span class="nav-number">10.</span> <span class="nav-text">10.常量成员（Member constants）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11-%E9%9D%9E%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD%EF%BC%88Non-member-function-overloads%EF%BC%89"><span class="nav-number">11.</span> <span class="nav-text">11.非成员函数重载（Non-member function overloads）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#11-1-operator"><span class="nav-number">11.1.</span> <span class="nav-text">11.1.operator+()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-2-relational-operators"><span class="nav-number">11.2.</span> <span class="nav-text">11.2.relational operators</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-3-swap"><span class="nav-number">11.3.</span> <span class="nav-text">11.3.swap()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-4-operator-%E5%92%8Coperator"><span class="nav-number">11.4.</span> <span class="nav-text">11.4.operator&gt;&gt;()和operator&lt;&lt;()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-5-getline"><span class="nav-number">11.5.</span> <span class="nav-text">11.5.getline()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12-string%E7%9B%B8%E5%85%B3%E9%A2%98%E7%9B%AE%E7%BB%83%E4%B9%A0"><span class="nav-number">12.</span> <span class="nav-text">12.string相关题目练习</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#12-1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%94%AF%E4%B8%80%E5%AD%97%E7%AC%A6"><span class="nav-number">12.1.</span> <span class="nav-text">12.1.字符串中的第一个唯一字符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-2-%E5%B0%86%E7%BD%91%E5%9D%80%E5%88%86%E5%89%B2%E4%B8%BA%EF%BC%9A%E5%8D%8F%E8%AE%AE%E3%80%81%E5%9F%9F%E5%90%8D%E3%80%81%E8%B5%84%E6%BA%90%E5%90%8D"><span class="nav-number">12.2.</span> <span class="nav-text">12.2.将网址分割为：协议、域名、资源名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-3-%E4%BB%85%E4%BB%85%E5%8F%8D%E8%BD%AC%E5%AD%97%E6%AF%8D"><span class="nav-number">12.3.</span> <span class="nav-text">12.3.仅仅反转字母</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%8D%95%E8%AF%8D%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="nav-number">12.4.</span> <span class="nav-text">12.4.字符串最后一个单词的长度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-5-%E9%AA%8C%E8%AF%81%E5%9B%9E%E6%96%87%E4%B8%B2"><span class="nav-number">12.5.</span> <span class="nav-text">12.5.验证回文串</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
